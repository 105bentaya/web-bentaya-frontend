<hr class="mt-0">
@if (event) {
  <div>
    <div class="d-flex justify-content-between align-items-center">
      <span class="fw-bold">Descripci√≥n</span>
      @if (userCanEditEvent) {
        <button
          pButton
          (click)="openEditDialog()"
          style="padding: 0.1rem .5rem;"
        >
          Editar Actividad
        </button>
      }
    </div>
    <span style="white-space: pre-line;">{{ event.description }}</span>
  </div>
  <div class="mt-3">
    <span class="fw-bold">Fecha</span>
    <ul>
      @if (event.unknownTime) {
        <li>Inicio: {{ event.startDate | date:"EEEE, dd/MM/y '(Hora sin especificar)'":undefined:'es' }}</li>
        <li>Fin: {{ event.endDate | date:"EEEE, dd/MM/y '(Hora sin especificar)'":undefined:'es' }}</li>
      } @else {
        <li>Inicio: {{ event.startDate | date:"HH:mm, EEEE, dd/MM/y":undefined:'es' }}</li>
        <li>Fin: {{ event.endDate | date:"HH:mm, EEEE, dd/MM/y":undefined:'es' }}</li>
      }
    </ul>
  </div>
  <div>
    <span class="fw-bold">Lugar</span>
    <ul>
      <li>
        @if (locationLink) {
          <a [href]="locationLink" target="_blank">{{ event.location }}</a>
        } @else {
          {{ event.location }}
        }
      </li>
    </ul>
  </div>
  <div>
    <span class="fw-bold">Unidad</span>
    <ul>
      <li>
        {{ event.groupId | group }}
      </li>
    </ul>
  </div>
  @if (userScoutsInEvent.length > 0 || scoutConfirmations.length > 0) {
    <a class="uncolored fw-bold" href="/asistencias">Ir a asistencia</a>
    <ul>
      @if (scoutConfirmations.length < 1) {
        @for (scout of userScoutsInEvent; track scout.id) {
          <li>
            <div class="d-flex align-items-center">
              {{ scout.name }} -
              <p-skeleton class="mt-1 mx-1" width="2rem"></p-skeleton>
              <p-skeleton class="mt-1" width="3rem"></p-skeleton>
            </div>
          </li>
        }
      }
      @for (scoutConfirmation of scoutConfirmations; track scoutConfirmation.scoutId) {
        <li>
          {{ scoutConfirmation.name }} -
          @if (scoutConfirmation.attending) {
            Asiste
            @if (scoutConfirmation.payed) {
              (Ha pagado)
            } @else if (scoutConfirmation.payed === false) {
              (No ha pagado)
            }
          } @else if (scoutConfirmation.attending === false) {
            No asiste
          } @else {
            <b class="text-danger">Sin Confirmar</b>
          }
        </li>
      }
    </ul>
  }
  @if (event.hasAttendance && userCanEditEvent) {
    <div class="d-flex flex-column flex-sm-row justify-content-between">
      <a class="uncolored fw-bold" href="/unidad/asistencia?list={{event.id}}">Ir a lista de asistencia</a>
    </div>
  }
} @else {
  <app-basic-loading-info></app-basic-loading-info>
}

