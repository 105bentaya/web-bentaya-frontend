<div class="d-flex justify-content-center align-items-center login-container pt-5">
  <div class="container-fluid">
    @if (login) {
      <form (ngSubmit)="onSubmit()" [formGroup]="loginForm.form" class="form-container mt-5">
        <div class="d-flex flex-column align-items-center">
          <i class="pi pi-user"></i>
          <input
            class="w-100"
            pInputText
            name="bentaya-username"
            id="username"
            placeholder="Nombre de usuario (correo electrónico)"
            formControlName="username"
            type="text"
          />
          <p-password
            class="w-100 mt-3"
            id="password"
            placeholder="Contraseña"
            formControlName="password"
            [toggleMask]="true"
            [feedback]="false"
          ></p-password>
          <a class="forgot mt-3" (click)="login = false">
            <small>Olvidé la contraseña</small>
          </a>
          <div class="mt-3">
            <app-save-buttons
              [saveDisabled]="loginForm.invalid"
              [saveLoading]="loading"
              saveIcon="pi pi-sign-in"
              saveLabel="Iniciar Sesión"
              saveType="submit"
            ></app-save-buttons>
          </div>
        </div>
      </form>
    } @else {
      <div class="d-flex flex-column align-items-center pt-4">
        <small class="forgot">Introduzca su nombre de usuario y recibirá un correo para restablecer su contraseña.</small>
        <input
          pInputText
          id="email"
          class="w-100 mt-3"
          placeholder="Nombre de usuario"
          type="text"
          [(ngModel)]="forgotUsername"
        />
        <a class="forgot mt-3" (click)="login = true">
          <small>Volver al inicio de sesión</small>
        </a>
        <app-save-buttons
          class="mt-2"
          [saveDisabled]="!forgotUsername"
          [saveLoading]="loading"
          saveIcon="pi pi-user"
          saveLabel="Enviar"
          (onSave)="forgotPassword()"
        ></app-save-buttons>
      </div>
    }
  </div>
</div>
