<div class="mt-3" [formGroup]="formGroup">
  <label class="required">Contactos</label>
  <p-table
    formArrayName="contactList"
    [value]="contactList.controls"
    responsiveLayout="stack"
    breakpoint="767px"
  >
    <ng-template pTemplate="caption">
      <div class="text-md-end">
        <app-general-icon-button
          icon="pi pi-user-plus"
          title="Añadir contacto"
          style="width: 2rem; height: 2rem;"
          (click)="onAdd.emit()"
        ></app-general-icon-button>
      </div>
    </ng-template>
    <ng-template pTemplate="header">
      @if (contactList.length > 0) {
        <tr>
          <th class="required">Nombre</th>
          <th>Parentesco</th>
          <th class="semi-required">Correo</th>
          <th class="semi-required">Teléfono</th>
          <th></th>
        </tr>
      }
    </ng-template>
    <ng-template pTemplate="body" let-contact let-ri="rowIndex">
      <tr [formGroupName]="ri">
        <td class="px-2">
          <span class="p-column-title required">Nombre</span>
          <input type="text" formControlName="name" pInputText>
        </td>
        <td class="px-2">
          <span class="p-column-title">Parentesco</span>
          <input type="text" formControlName="relationship" pInputText>
        </td>
        <td class="px-2">
          <span class="p-column-title semi-required">Correo</span>
          <input type="text" formControlName="email" pInputText>
        </td>
        <td class="px-2">
          <span class="p-column-title semi-required">Teléfono</span>
          <input type="text" formControlName="phone" pInputText>
        </td>
        <td>
          <app-general-icon-button
            icon="pi pi-user-minus"
            title="Eliminar contacto"
            class="p-button-danger"
            (click)="onDelete.emit(ri)"
          ></app-general-icon-button>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>
