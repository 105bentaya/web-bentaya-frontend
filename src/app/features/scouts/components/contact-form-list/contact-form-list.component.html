<div class="mt-3" [formGroup]="formGroup">
  <span class="required">Contactos</span>
  <p-table
    formArrayName="contactList"
    [value]="contactList.controls"
    responsiveLayout="stack"
    breakpoint="767px"
  >
    <ng-template pTemplate="caption">
      <div class="text-md-end">
        <app-table-icon-button
          icon="pi pi-user-plus"
          title="Añadir contacto"
          [style]="{'width': '2rem', 'height': '2rem'}"
          (click)="onAdd.emit()"
        ></app-table-icon-button>
      </div>
    </ng-template>
    <ng-template pTemplate="header">
      @if (contactList.length > 0) {
        <tr>
          <th class="required">Nombre</th>
          <th>Parentesco</th>
          <th class="semi-required">Correo</th>
          <th class="semi-required">Teléfono</th>
          <th></th>
        </tr>
      }
    </ng-template>
    <ng-template pTemplate="body" let-ri="rowIndex">
      <tr [formGroupName]="ri">
        <td class="px-2 mt-2 mt-md-0">
          <p-floatlabel variant="on" class="w-100">
            <label for="name" class="d-md-none required">Nombre</label>
            <input id="name" type="text" formControlName="name" pInputText>
          </p-floatlabel>
        </td>
        <td class="px-2">
          <p-floatlabel variant="on" class="w-100">
            <label for="relationship" class="d-md-none">Parentesco</label>
            <input id="relationship" type="text" formControlName="relationship" pInputText>
          </p-floatlabel>
        </td>
        <td class="px-2">
          <p-floatlabel variant="on" class="w-100">
            <label for="email" class="d-md-none semi-required">Correo</label>
            <input id="email" type="text" formControlName="email" pInputText>
          </p-floatlabel>
        </td>
        <td class="px-2">
          <p-floatlabel variant="on" class="w-100">
            <label for="phone" class="d-md-none semi-required">Teléfono</label>
            <input id="phone" type="text" formControlName="phone" pInputText>
          </p-floatlabel>
        </td>
        <td>
          <app-table-icon-button
            icon="pi pi-user-minus"
            title="Eliminar contacto"
            severity="danger"
            (click)="onDelete.emit(ri)"
          ></app-table-icon-button>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>
